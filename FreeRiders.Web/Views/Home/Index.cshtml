@using FreeRiders.Web.ViewModels.Home;
@using FreeRiders.Web.ViewModels;

@model HomeViewModel

@{
    var headerArguments = new HeaderViewModel
    {
        ImageUrl = "../Images/home-cover.jpg",
        Title = "The wild side of riding",
        Subtitle = "See all the cool sites you can visit and enjoy riding..."
    };
}

@Html.Partial("_PageHeader", headerArguments)

<div class="container text-center">
    <div class="row">
        <div class="col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Locations</h3>
                </div>
                @foreach (var location in Model.Locations)
                {
                    <div class="panel-body album-grid-container">
                        <a href="@Url.Action("LocationDetails", "Location", new { id = location.ID })">
                            <div class="row text-center base-album-grid album-link" style="background-image: url(@location.Picture.ImageUrl); background-size: 100% 100%;">
                                <h1>
                                    <strong>@location.Name</strong>
                                </h1>
                            </div>
                            <div class="row">
                                <p class="description-container">
                                    @if (location.Description.Length < 100)
                                    {
                                        @location.Description
                                    }
                                    else
                                    {
                                        @location.Description.Substring(0, 100)
                                        <span>
                                            ...
                                        </span>
                                    }
                                </p>
                            </div>
                        </a>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Hot Albums</h3>
                </div>
                @foreach (var album in Model.Albums)
                {
                    <div class="panel-body album-grid-container">
                        <a class="album-link" href="@Url.Action("AlbumDetails", "Album", new { id = album.ID })">
                            @Html.Partial("_AlbumGridLink", album)
                        </a>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">New Events</h3>
                </div>
                @foreach (var ev in Model.Events)
                {
                    <div class="panel-body album-grid-container">
                        <a href="@Url.Action("EventDetails", "Event", new { id = ev.ID })">
                            <h2>
                                @ev.Title
                            </h2>
                            @Html.Partial("_DateTime", ev.DateOfEvent)
                        </a>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
